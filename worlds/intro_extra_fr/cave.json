{
  "robots": [
    {
      "x": 1,
      "y": 1,
      "_prev_x": 1,
      "_prev_y": 1,
      "_prev_orientation": 0,
      "objects": {
        "caisse": 99
      },
      "_orientation": 0,
      "_is_leaky": true,
      "_trace_history": [],
      "_trace_style": "default",
      "_trace_color": "seagreen",
      "__id": 3,
      "model": "classic"
    }
  ],
  "walls": {},
  "description": [
    "<h1>Empiler des caisses</h1>",
    "Reeborg veut empiler des caisses dans une caverne. ",
    "Il y a des stalactites de différente longueur au plafond ",
    "de la caverne et Reeborg doit faire des piles ",
    "qui rejoignent presque le plafond, laissant une case de vide.",
    "Écrivez un programme qui permettra à Reeborg de faire ces piles.",
    "La première pile sera faite à la position où se trouve Reeborg, ",
    "et il y aura une colonne de vide entre chaque pile.",
    "",
    "<h2>Ce que vous devez connaître</h2>",
    "<ul><li>Les fonctions <code>avance()</code>, ",
    "    <code>tourne_a_gauche()</code> et <code>depose()</code>.</li>",
    "    <li>La condition <code>rien_devant()</code></li>",
    "    <li>Comment utiliser une boucle <code>while</code>",
    "        et un énoncé <code>if</code>.</li></ul>",
    "DIFFICULTY5",
    ""
  ],
  "small_tiles": false,
  "rows": 12,
  "cols": 9,
  "onload": [
    "var width, height, obstacles, i, h, r, x, y;",
    "",
    "height = 12;",
    "width = RUR.randint(6, 13);",
    "",
    "RUR.set_world_size(width, height);",
    "RUR.fill_background(\"black\");",
    "",
    "// new objects",
    "RUR.add_new_thing({",
    "    'name': 'ground',",
    "    'info': 'Hard ground, impassable',",
    "    'fatal': true,",
    "    'message': 'This is as hard as a rock.',",
    "    'url': 'src/images/mud.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'stalactite1',",
    "    'info': 'Stalactite; pointy and hard',",
    "    'fatal': true,",
    "    'detectable': true,",
    "    'message': 'This is as hard as a rock.',",
    "    'url': 'src/images/stalactite.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'stalactite2',",
    "    'info': 'Stalactite; pointy and hard',",
    "    'fatal': true,",
    "    'detectable': true,",
    "    'message': 'This is as hard as a rock.',",
    "    'url': 'src/images/stalactite2.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'caisse',",
    "    'url': 'src/images/box.png',",
    "    'goal': {'url': 'src/images/box_goal.png'}",
    "});",
    "",
    "RUR.give_object_to_robot(\"caisse\", 99);",
    "",
    "for (x=1; x<= width; x++) {",
    "    h = RUR.randint(8, 12);",
    "    i = RUR.randint(1, 2);",
    "    RUR.add_obstacle('stalactite'+i, x, h);",
    "    for (y=h+1; y<=height; y++) {",
    "        RUR.add_background_tile('ground', x, y);",
    "    }",
    "    if (x %2 == 1) { // odd value",
    "        for (y=1; y < h-1; y++) {",
    "            RUR.add_object(\"caisse\", x, y, {'goal':true});",
    "        }",
    "    }",
    "}",
    "// Change the robot model, since grey would not be very visible",
    "RUR.set_model('yellow');",
    ""
  ]
}